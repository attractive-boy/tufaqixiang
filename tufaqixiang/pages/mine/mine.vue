<template>
	<view class="mine-container">
		<!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
		<view class="user-card">
			<image class="user-avatar" src="/image.png" mode="aspectFill"></image>
			<view class="user-info">
				<text class="user-name">éª‘è¡Œçˆ±å¥½è€…</text>
				<text class="user-level">Lv. 8 éª‘è¡Œè¾¾äºº</text>
			</view>
			<view class="user-edit" @tap="toEditProfile">
				<text>ç¼–è¾‘èµ„æ–™ â†’</text>
			</view>
		</view>

		<!-- æ•°æ®ç»Ÿè®¡ -->
		<view class="stats-section">
			<view class="stat-item">
				<text class="stat-value">1280</text>
				<text class="stat-label">æ€»é‡Œç¨‹</text>
			</view>
			<view class="stat-item">
				<text class="stat-value">24</text>
				<text class="stat-label">å®Œæˆè·¯çº¿</text>
			</view>
			<view class="stat-item">
				<text class="stat-value">45</text>
				<text class="stat-label">è·èµ</text>
			</view>
			<view class="stat-item">
				<text class="stat-value">128</text>
				<text class="stat-label">ç²‰ä¸</text>
			</view>
		</view>

		<!-- åŠŸèƒ½èœå• -->
		<view class="menu-section">
			<!-- æˆ‘çš„éª‘è¡Œ -->
			<view class="menu-group">
				<view class="menu-title">æˆ‘çš„éª‘è¡Œ</view>
				<view class="menu-item" @tap="toMyRoutes">
					<view class="item-content">
						<text class="item-icon">ğŸ—ºï¸</text>
						<text class="item-name">æˆ‘çš„è·¯çº¿</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toRecords">
					<view class="item-content">
						<text class="item-icon">ğŸ“Š</text>
						<text class="item-name">éª‘è¡Œè®°å½•</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toAchievements">
					<view class="item-content">
						<text class="item-icon">ğŸ†</text>
						<text class="item-name">æˆå°±å‹‹ç« </text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
			</view>

			<!-- ç¤¾äº¤äº’åŠ¨ -->
			<view class="menu-group">
				<view class="menu-title">ç¤¾äº¤äº’åŠ¨</view>
				<view class="menu-item" @tap="toMyPosts">
					<view class="item-content">
						<text class="item-icon">âœï¸</text>
						<text class="item-name">æˆ‘çš„å‘å¸ƒ</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toMyComments">
					<view class="item-content">
						<text class="item-icon">ğŸ’¬</text>
						<text class="item-name">æˆ‘çš„è¯„è®º</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toFollowing">
					<view class="item-content">
						<text class="item-icon">ğŸ‘¥</text>
						<text class="item-name">æˆ‘çš„å…³æ³¨</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
			</view>

			<!-- æˆ‘çš„æ”¶è— -->
			<view class="menu-group">
				<view class="menu-title">æˆ‘çš„æ”¶è—</view>
				<view class="menu-item" @tap="toFavorites">
					<view class="item-content">
						<text class="item-icon">â¤ï¸</text>
						<text class="item-name">æ”¶è—çš„è·¯çº¿</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toCollections">
					<view class="item-content">
						<text class="item-icon">ğŸ“</text>
						<text class="item-name">æˆ‘çš„æ”¶è—å¤¹</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
			</view>

			<!-- è®¾ç½® -->
			<view class="menu-group">
				<view class="menu-title">è®¾ç½®</view>
				<view class="menu-item" @tap="toSettings">
					<view class="item-content">
						<text class="item-icon">âš™ï¸</text>
						<text class="item-name">è´¦å·è®¾ç½®</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toPrivacy">
					<view class="item-content">
						<text class="item-icon">ğŸ”’</text>
						<text class="item-name">éšç§è®¾ç½®</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toAbout">
					<view class="item-content">
						<text class="item-icon">â„¹ï¸</text>
						<text class="item-name">å…³äºæˆ‘ä»¬</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
				<view class="menu-item" @tap="toHelp">
					<view class="item-content">
						<text class="item-icon">â“</text>
						<text class="item-name">å¸®åŠ©ä¸­å¿ƒ</text>
					</view>
					<text class="item-arrow">&gt;</text>
				</view>
			</view>

			<!-- ç™»å‡º -->
			<view class="logout-button" @tap="handleLogout">
				<text>é€€å‡ºç™»å½•</text>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	data() {
		return {
			userInfo: {
				name: 'éª‘è¡Œçˆ±å¥½è€…',
				level: 'Lv. 8 éª‘è¡Œè¾¾äºº',
				avatar: '/image.png',
				stats: {
					distance: 1280,
					routes: 24,
					likes: 45,
					followers: 128
				}
			}
		}
	},
	onLoad() {
		console.log('æˆ‘çš„é¡µé¢åŠ è½½');
	},
	methods: {
		toEditProfile() {
			uni.showToast({ title: 'ç¼–è¾‘èµ„æ–™åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toMyRoutes() {
			uni.showToast({ title: 'æˆ‘çš„è·¯çº¿åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toRecords() {
			uni.showToast({ title: 'éª‘è¡Œè®°å½•åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toAchievements() {
			uni.showToast({ title: 'æˆå°±å‹‹ç« åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toMyPosts() {
			uni.showToast({ title: 'æˆ‘çš„å‘å¸ƒåŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toMyComments() {
			uni.showToast({ title: 'æˆ‘çš„è¯„è®ºåŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toFollowing() {
			uni.showToast({ title: 'æˆ‘çš„å…³æ³¨åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toFavorites() {
			uni.showToast({ title: 'æ”¶è—çš„è·¯çº¿åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toCollections() {
			uni.showToast({ title: 'æˆ‘çš„æ”¶è—å¤¹åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toSettings() {
			uni.showToast({ title: 'è´¦å·è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toPrivacy() {
			uni.showToast({ title: 'éšç§è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toAbout() {
			uni.showToast({ title: 'å…³äºæˆ‘ä»¬åŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		toHelp() {
			uni.showToast({ title: 'å¸®åŠ©ä¸­å¿ƒåŠŸèƒ½å¼€å‘ä¸­', icon: 'none' });
		},
		handleLogout() {
			uni.showModal({
				title: 'ç¡®è®¤é€€å‡º',
				content: 'ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ',
				success: (res) => {
					if (res.confirm) {
						uni.showToast({ title: 'å·²é€€å‡ºç™»å½•', icon: 'success' });
						setTimeout(() => {
							uni.redirectTo({
								url: '/pages/login/login'
							});
						}, 1500);
					}
				}
			});
		}
	}
}
</script>

<style scoped>
.mine-container {
	display: flex;
	flex-direction: column;
	background: #F5F5F5;
	min-height: 100vh;
	padding-bottom: 20rpx;
}

.user-card {
	background: linear-gradient(135deg, #FA541C 0%, #FF8C42 100%);
	color: #FFFFFF;
	padding: 40rpx;
	display: flex;
	align-items: center;
	gap: 20rpx;
	box-shadow: 0 4rpx 15rpx rgba(250, 84, 28, 0.2);
}

.user-avatar {
	width: 100rpx;
	height: 100rpx;
	border-radius: 50%;
	border: 4rpx solid rgba(255, 255, 255, 0.5);
	flex-shrink: 0;
}

.user-info {
	flex: 1;
	display: flex;
	flex-direction: column;
	gap: 8rpx;
}

.user-name {
	font-size: 32rpx;
	font-weight: bold;
}

.user-level {
	font-size: 24rpx;
	opacity: 0.9;
}

.user-edit {
	background: rgba(255, 255, 255, 0.3);
	padding: 10rpx 15rpx;
	border-radius: 6rpx;
	font-size: 22rpx;
	white-space: nowrap;
}

.stats-section {
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	gap: 0;
	background: #FFFFFF;
	margin: 20rpx;
	border-radius: 10rpx;
	overflow: hidden;
	box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);
}

.stat-item {
	padding: 25rpx;
	text-align: center;
	border-right: 1rpx solid #F0F0F0;
	display: flex;
	flex-direction: column;
	gap: 10rpx;
}

.stat-item:last-child {
	border-right: none;
}

.stat-value {
	font-size: 36rpx;
	font-weight: bold;
	color: #FA541C;
}

.stat-label {
	font-size: 22rpx;
	color: #999999;
}

.menu-section {
	display: flex;
	flex-direction: column;
	gap: 0;
	margin: 0 20rpx;
}

.menu-group {
	background: #FFFFFF;
	border-radius: 10rpx;
	margin-bottom: 20rpx;
	overflow: hidden;
	box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);
}

.menu-title {
	padding: 15rpx 20rpx;
	font-size: 24rpx;
	color: #999999;
	font-weight: bold;
	background: #F9F9F9;
	border-bottom: 1rpx solid #F0F0F0;
}

.menu-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 20rpx;
	border-bottom: 1rpx solid #F0F0F0;
	transition: all 0.3s ease;
}

.menu-item:last-child {
	border-bottom: none;
}

.menu-item:active {
	background: #F5F5F5;
	transform: translateX(4rpx);
}

.item-content {
	display: flex;
	align-items: center;
	gap: 15rpx;
	flex: 1;
}

.item-icon {
	font-size: 32rpx;
}

.item-name {
	font-size: 28rpx;
	color: #333333;
}

.item-arrow {
	font-size: 28rpx;
	color: #CCCCCC;
}

.logout-button {
	background: #FFFFFF;
	border: 2rpx solid #FA541C;
	color: #FA541C;
	padding: 20rpx;
	border-radius: 10rpx;
	text-align: center;
	font-size: 32rpx;
	font-weight: bold;
	margin-bottom: 20rpx;
	margin-top: 20rpx;
	transition: all 0.3s ease;
}

.logout-button:active {
	background: #FFF5F0;
	transform: scale(0.98);
}
</style>
